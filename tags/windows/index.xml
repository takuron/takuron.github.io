<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Windows on Takuron</title><link>https://takuron.com/tags/windows/</link><description>Recent content in Windows on Takuron</description><generator>Hugo -- gohugo.io</generator><language>zh-CN</language><lastBuildDate>Tue, 05 Oct 2021 00:00:00 +0000</lastBuildDate><atom:link href="https://takuron.com/tags/windows/index.xml" rel="self" type="application/rss+xml"/><item><title>为Windows11设置更多DNS over https服务器&amp;一键添加更多服务器脚本</title><link>https://takuron.com/post/id0024/</link><pubDate>Tue, 05 Oct 2021 00:00:00 +0000</pubDate><guid>https://takuron.com/post/id0024/</guid><description>&lt;img src="https://img.takuron.com/20250827/ed8fda4fbfdea13178ac39ef421b2ebb.jpg" alt="Featured image of post 为Windows11设置更多DNS over https服务器&amp;一键添加更多服务器脚本" />&lt;p>早就有闻Windows系统已经添加了系统级的DNS over Https的支持，趁着此次重装Windows11新系统之际换掉AdguardHome改用Windows系统自己提供的DoH支持。&lt;/p>
&lt;blockquote>
&lt;p>理论上Windows 10 build 19628以后的所有版本都支持此教程的方法，本人也亲测在Windows Server 2022上成功使用。&lt;/p>&lt;/blockquote>
&lt;h2 id="设置dns-over-https的位置">设置DNS over Https的位置
&lt;/h2>&lt;p>以WLAN网络为例：打开设置-WLAN-&lt;strong>硬件属性&lt;/strong>-DNS服务器分配，选择手动。输入一个支持DoH的服务商的DNS地址（例如Google的8.8.8.8），下面灰显的选项就会启用：&lt;/p>
&lt;p>&lt;img src="https://img.takuron.com/20250827/19ab4d119bcd75a81aa2cf5d404cffc6.png"
loading="lazy"
alt="Snipaste_2021-10-05_14-20-37.png"
>&lt;/p>
&lt;p>&lt;img src="https://img.takuron.com/20250827/53f7b46711870002bf18aa4c337fb20f.png"
loading="lazy"
alt="Snipaste_2021-10-05_14-19-54.png"
>&lt;/p>
&lt;blockquote>
&lt;p>2021.10.29 这不是一个BUG，这里设置的话可以自动覆盖所有将要连接的WIFI，更好的保护连接公共WIFI带来的隐私问题。
&lt;s>2021.10.5 你可以在选择网络连接的位置发现同样的选项来设置网络连接的属性，但是不能启用DoH，本文来自Takuron点top，这应该是Windows11的一个BUG。&lt;/s>&lt;/p>&lt;/blockquote>
&lt;p>不过我们的设置并没有结束，&lt;strong>坑爹的微软只预置了一些常见的全球DoH服务器，但众所周知天朝不在地球上&lt;/strong>。设置其他服务器不会有任何显示：&lt;/p>
&lt;p>&lt;img src="https://img.takuron.com/20250827/06670b3bfb0f38aaaeca8a6af77f72b8.png"
loading="lazy"
alt="Snipaste_2021-10-05_13-43-47.png"
>&lt;/p>
&lt;p>你只能直接设置以下DoH服务器：&lt;/p>
&lt;ul>
&lt;li>Cloudflare(1.1.1.1/2606:4700:4700::1111)&lt;/li>
&lt;li>Google(8.8.8.8/2001:4860:4860::8888)&lt;/li>
&lt;li>Quad9(9.9.9.9/2620:fe::fe)&lt;/li>
&lt;/ul>
&lt;p>如果需要安装国内常用的DoH服务器需要先添加&lt;/p>
&lt;h2 id="为系统添加更多dns-over-https服务器">为系统添加更多DNS over Https服务器
&lt;/h2>&lt;p>我们需要注册更多的Doh服务器，这可以用以下命令解决（感谢&lt;a class="link" href="https://bbs.pcbeta.com/viewthread-1877659-1-1.html" target="_blank" rel="noopener"
>如何在win10中自定义doh服务器-远景论坛-微软极客社区&lt;/a>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">netsh dns add encryption server=&amp;lt;your-server&amp;#39;s-IP-address&amp;gt; dohtemplate=&amp;lt;your-server&amp;#39;s-DoH-URI-template&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">netsh dns show encryption server=&amp;lt;your-server&amp;#39;s-IP-address&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>例如添加阿里的DoH代码：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">netsh dns add encryption server=223.5.5.5 dohtemplate=https://dns.alidns.com/dns-query
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">netsh dns show encryption server=223.5.5.5
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>IPV6同理，不过DoH服务商那么多，还要连着主要次要ipv4/v6都要添加，怕不是一行行打手都麻了，为此我专门写了一个脚本，自动添加了以下DoH服务商：&lt;/p>
&lt;ul>
&lt;li>阿里DNS(223.5.5.5/2400:3200::1)&lt;/li>
&lt;li>DNSPOD(119.29.29.29/2402:4e00::)&lt;/li>
&lt;li>深信服下一代网络工程IPV6 DoH(仅IPV6:240C::6666)&lt;/li>
&lt;li>360(仅IPV4:101.226.4.6/123.125.81.6)&lt;/li>
&lt;li>Adguard(包括多种，&lt;a class="link" href="https://bbs.pcbeta.com/viewthread-1877659-1-1.html" target="_blank" rel="noopener"
>详细官网查看&lt;/a>)&lt;/li>
&lt;/ul>
&lt;p>下载后&lt;strong>请使用右击，以管理员权限运行&lt;/strong>,&lt;a class="link" href="https://takuron.lanzoui.com/b0as59z2f" target="_blank" rel="noopener"
>蓝奏云下载地址（提取码h6e1）&lt;/a>&lt;/p>
&lt;p>可以看到添加后就能正常使用国内的DoH服务了。&lt;/p>
&lt;p>&lt;img src="https://img.takuron.com/20250827/a06762e22f8c2ba77b4d642eaa0bd5a0.png"
loading="lazy"
alt="Snipaste_2021-10-05_13-45-26.png"
>&lt;/p></description></item><item><title>Windows系统联网验证策略和“去除叹号”</title><link>https://takuron.com/post/id0022/</link><pubDate>Sat, 21 Nov 2020 00:00:00 +0000</pubDate><guid>https://takuron.com/post/id0022/</guid><description>&lt;img src="https://i.loli.net/2020/11/21/VIA9Jxk4ROSF3XG.jpg" alt="Featured image of post Windows系统联网验证策略和“去除叹号”" />&lt;p>出于你懂得的的原因，在我朝连接国际互联网那叫一个感人。在原生安卓中，就是因为这个众所周知的原因无法正确判断联网状态诞生了“去除叹号”软件。同样的，作为难兄难弟的微软爷不甘示弱。这两天同样的事情发生在了我的Windows电脑上。&lt;/p>
&lt;p>&lt;img src="https://i.loli.net/2020/11/21/Pq9cWY3jedNg5nA.png"
loading="lazy"
alt="Snipaste_2020-11-21_09-38-13.png"
>&lt;/p>
&lt;p>在使用以下方法时，请首先确定这只是“显示错误”，即你已经可以判断你的电脑可以正常连接互联网的情况下还是如此显示并且影响到你对一些应用（例如自带应用商店）的使用。&lt;/p>
&lt;p>所有的联网验证相关的参数都位于注册表&lt;code>\HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\NlaSvc\Parameters\Internet&lt;/code>当中，这里以我正在使用的Windows10 20H2为例：&lt;/p>
&lt;p>&lt;img src="https://i.loli.net/2020/11/21/aYfUbPrgCdHkxTm.png"
loading="lazy"
alt="Snipaste_2020-11-21_09-47-10.png"
>&lt;/p>
&lt;p>这就很明了了，直接说解决方案。&lt;/p>
&lt;h2 id="直接关闭整个验证">直接关闭整个验证
&lt;/h2>&lt;p>如果你在用一个台式机，联网验证对你来说完全没用（自家路由器难道还有需要登录的？），那么你可以直接关闭这个功能，将&lt;code>EnableActiveProbing&lt;/code>参数改为0即可。&lt;/p>
&lt;h2 id="验证dns是否正常">验证DNS是否正常
&lt;/h2>&lt;p>如果你是笔记本，只想修好这个功能而不是一股脑的关死，那么电脑会首先确定你的ISP有没有给你的DNS投毒。以我目前的参数设置为例，在powershell里面查询：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">nslookup dns.msftncsi.com
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>其中被查询的域名是你注册表中&lt;code>ActiveDnsProbeHost&lt;/code>的值。Windows会验证DNS查询到的结果是否和&lt;code>ActiveDnsProbeContent&lt;/code>的值相同，v6同理。如果你返回的是类似于127.0.0.1这种解析结果，恭喜你被DNS投毒了。本人遇到的就是这种情况（PS：阿里的DNS都能间歇性投毒我想说什么不用讲了吧），但我在用AdGuardHome，所以加个重写就解决了。&lt;/p>
&lt;p>如果你没有用这类软件，并且你不想通过改写host这种自欺欺人的手段来解决问题，那么你可以将被查询的域名换成阿里dns的域名&lt;code>dns.alidns.com&lt;/code>，大多数情况下，其结果总对应其DNS服务器IP&lt;code>223.5.5.5&lt;/code>、&lt;code>2400:3200::1&lt;/code>，可以将对应值修改后以此验证。&lt;/p>
&lt;h2 id="验证http访问是否正常">验证HTTP访问是否正常
&lt;/h2>&lt;p>然后电脑会确定你的HTTP服务是否正常，其会向&lt;code>ActiveWebProbeHost&lt;/code>对应的服务器请求一个&lt;code>connecttest.txt&lt;/code>的文本文件，然后确认其值是否与&lt;code>ActiveWebProbeContent&lt;/code>相等。以我目前的配置为例，这相当于：&lt;/p>
&lt;p>&lt;img src="https://i.loli.net/2020/11/21/MQDkIs74zLWE6lp.png"
loading="lazy"
alt="Snipaste_2020-11-21_10-27-38.png"
>&lt;/p>
&lt;p>解决的方法有很多，DNS投毒同样会影响这个的验证结果（并且这种情况导致的验证失败非常常见），可以先尝试上述方法。&lt;/p>
&lt;p>若仍无效或者是希望彻底解决问题，用gitee page自建一个测试服务器并不是一个完美的解决方案，因为无法判断ipv4联通还是ipv6连通，&lt;strong>此处待大佬解决&lt;/strong>。&lt;/p>
&lt;h2 id="总结">总结
&lt;/h2>&lt;p>整体来说微软的验证大多数时候还是有效的，如果偶尔出现了不可用的状况可以按照本文进行修改解决。&lt;/p></description></item><item><title>以最简单的方式改进自己电脑的DNS</title><link>https://takuron.com/post/id0019/</link><pubDate>Sun, 10 May 2020 00:00:00 +0000</pubDate><guid>https://takuron.com/post/id0019/</guid><description>&lt;img src="https://i.loli.net/2020/05/10/VnFD2HCmewfQuY4.jpg" alt="Featured image of post 以最简单的方式改进自己电脑的DNS" />&lt;p>以今天的标准来看，1997年互联网上的信息获取是十分低效的。搜索引擎刚刚起步，网站数目少，甚至在网上发布信息的人都寥寥无几，且当年的信息传递方法绝大多数已经被淘汰。而身处2020年的我们，为什么比以前更需要来自上个世纪的RSS了呢？&lt;/p>
&lt;h3 id="主流信息获取的问题">主流信息获取的问题
&lt;/h3>&lt;p>说到信息获取，很多人首先会想到网页。的确现代网页能够完成对各种信息的精确表达，但人们会忽视一个关键点，那就是&lt;strong>在信息爆炸的时代，我们更需要将自己有限的时间留给获取信息本身&lt;/strong>，而这在2020年的网页里面，在很多时候，我们仍然做不到：&lt;/p>
&lt;p>&lt;img src="https://i.loli.net/2020/05/22/Cp18K5H9eshiumF.jpg"
loading="lazy"
alt="Snipaste_2020-05-22_11-39-38-jpg.jpg"
>&lt;/p>
&lt;p>是的，他们不仅是添加广告，他们还会用要素过多的页面元素来影响你信息的获取，你需要拨开层层遮罩才能看到你需要的信息。如果你使用的是手机，那么恭喜你，你可能连网页都打不开，因为.&lt;/p>
&lt;p>&lt;img src="https://i.loli.net/2020/05/22/MjiurcRlSeX1B4J.jpg"
loading="lazy"
alt="photo_2020-05-22_18-14-30.jpg"
>&lt;/p>
&lt;p>然后就是：&lt;/p>
&lt;p>&lt;img src="https://i.loli.net/2020/05/22/BbJusGERrPqQanU.jpg"
loading="lazy"
alt="photo_2020-05-22_18-16-58.jpg"
>&lt;/p>
&lt;p>流量至上的时代，每个平台都试图在圈地运动中试图把用户困在自己的小圈子里面，像填鸭一样推送着自己想让用户知道的信息，并且&lt;strong>这些信息就和骚扰电话一样是主动式的&lt;/strong>，处理信息变成了被信息“填鸭”是现在许多互联网用户的悲哀。&lt;/p>
&lt;p>这也引申出第二个问题，在APP里面浏览会留下记录。在经过分析和在各个应用肮脏的py交易中随意交易后我们的隐私荡然无存，最后变成让人可怕的服务推荐。就我个人而言，我希望保持“高冷”，&lt;strong>不希望在我的信息浏览中留下任何关于我的喜好的信息交给互联网公司随意分析&lt;/strong>。&lt;/p>
&lt;p>最后，目前的推送系统大多数是“正反馈”的：用户喜欢看什么、就给用户推送什么以此一步步给用户打上标签。但我们常说兼听则明和忠言逆耳，&lt;strong>真正客观的信息难以从讨好你的推荐算法中获取&lt;/strong>，这也一定程度上促进了目前互联网ETC横飞，网络战争日日不休。&lt;/p>
&lt;h3 id="rss的优势">RSS的优势
&lt;/h3>&lt;p>RSS(Really Simple Syndication)是一种描述和同步网站内容的格式，是使用最广泛的XML应用。简单来说就是：将信息以约定的格式传递给用户，然后用户通过其他软件解析并且阅读。除了最简单的排版格式以外几乎没有其他内容的RSS在10年前都会被称为鸡肋，但现在看来，它一口气解决了几乎所有上述痛点。&lt;/p>
&lt;p>首先由于只有基本的排版元素，所以实际呈现给用户的内容基本靠第三方软件完成解析，并且一个合适的第三方软件可以简明高效的显示多个来源的信息而不必看乱七八糟的广告和适应各个网页的排版，&lt;strong>让你不必在乎网页和APP的差异而关注信息本身&lt;/strong>。另外由于你的信息是一次性拉取的，网站无法得到你的阅读反馈，自然也就&lt;strong>无法对你关注的点进行分析&lt;/strong>。&lt;/p>
&lt;p>而且大多数网站的RSS都是提供的首页订阅，也就是仅仅按照热度和时间顺序给你推送，任何人都会拿到一模一样的信息，&lt;strong>你得到的信息更加客观而不会局限于你的偏好导致的推荐信息失真&lt;/strong>。最后，除了一些设置自动更新的软件会主动推送外，&lt;strong>一般情况下RSS的刷新是被动的&lt;/strong>，也就是说是你阅读的信息而不是信息让你阅读，这才是一种良性的信息获取。&lt;/p>
&lt;p>有人要说了，如果我希望得到一些个性的的信息呢？一些第三方平台例如Inoreader可以提供订阅源的筛选服务，可以按照你规定的规则对信息进行初筛，提高你的信息获取效率。&lt;/p>
&lt;h3 id="那你能帮帮我吗">那你能帮帮我吗？
&lt;/h3>&lt;p>这里推荐&lt;a class="link" href="https://sspai.com/post/56391" target="_blank" rel="noopener"
>高效获取信息，你需要这份 RSS 入门指南——少数派&lt;/a>，里面基本涵盖了通过接入服务来阅读RSS的方法，不过个人更喜欢脱离具体平台的本地软件，所以我推荐Windows平台的&lt;a class="link" href="https://quiterss.org/" target="_blank" rel="noopener"
>QuiteRSS&lt;/a>和Android上的&lt;a class="link" href="https://www.coolapk.com/apk/com.blend.rolly" target="_blank" rel="noopener"
>Rolly RSS Reader&lt;/a> 。&lt;/p>
&lt;p>&lt;img src="https://i.loli.net/2020/05/22/jEHheQqSo9rvwlN.png"
loading="lazy"
alt="Snipaste_2020-05-22_19-10-02.png"
>&lt;/p>
&lt;p>&lt;img src="https://i.loli.net/2020/05/22/wopH1XE354cPfRU.jpg"
loading="lazy"
alt="photo_2020-05-22_19-15-34.jpg"
>&lt;/p>
&lt;h3 id="总结">总结
&lt;/h3>&lt;p>RSS会不会复兴？即使是很多资深的订阅者也看衰RSS的前途，缺少更多的多媒体呈现方式和不够智能化和集中化的订阅方式的确不再适合当前的互联网环境，如果问我，我也不会认为这种东西将会成为主流。那么为何我仍然会选择这种方式？&lt;strong>因为在面对觊觎我个人喜好和把各种网络服务打成大礼包一股脑地砸在我头上的无良互联网公司，只有使用这种原始化的信息获取方式才能保留作为用户的尊严。&lt;/strong>&lt;/p>
&lt;p>PS：本站已经支持&lt;a class="link" href="https://takuron.top/feed.xml" target="_blank" rel="noopener"
>RSS订阅&lt;/a>。&lt;/p></description></item><item><title>多系统环境下Windows系统更新错误的一种解决方法</title><link>https://takuron.com/post/id0013/</link><pubDate>Fri, 13 Dec 2019 00:00:00 +0000</pubDate><guid>https://takuron.com/post/id0013/</guid><description>&lt;img src="https://i.loli.net/2020/02/07/BuEFfQyZ7xJ2eRG.jpg" alt="Featured image of post 多系统环境下Windows系统更新错误的一种解决方法" />&lt;p>今天在各路大佬的洗脑之下，终于决定更新一下Windows10 1909，不过我的电脑一直处于更新失败被我屏蔽更新的状态，所以我准备一上午彻底解决Windows的更新问题，然后&amp;hellip;&amp;hellip;&lt;/p>
&lt;blockquote>
&lt;p>垃圾微软，菜鸡Windows，毁我青春。&lt;/p>&lt;/blockquote>
&lt;p>首先先说明一下我电脑的状态，曾经装过多系统，留有专门的一个fat32格式的引导分区，不过现在只能引导到Windows了。系统自带的更新总是在最后一刻无法完成更新并撤销，而且不打这些安全补丁是不允许大版本升级的。&lt;/p>
&lt;p>由于有错误代码，我一开始在怀疑我的.NET框架，而且为了安装学校的旧版SolidWorks 2010还安装过很多以前版本的.NET框架，所以就卸载了一遍重新安装，未果。清空升级缓存文件，未果。&lt;/p>
&lt;p>然后动起了其他主意（后来发现这个选择非常对），使用官方的升级工具升级，然后：&lt;/p>
&lt;p>&lt;img src="https://i.loli.net/2020/02/07/Bkpzi4RgIMqJPdD.png"
loading="lazy"
alt="6897991-6802a8f578da9a07.png"
>&lt;/p>
&lt;p>然后又试了其他问题，并且尝试直接使用u盘pe来覆盖Windows文件，结果反正就是官方回退更新或者难以确定。然后我看到了[这个帖子]https://tieba.baidu.com/p/5078424060?red_tag=q1629212285) .&lt;/p>
&lt;hr>
&lt;p>首先感谢上面那位贴吧大佬，个人亲测成功的土办法就是：改成Legacy+MBR直接引导到Windows。&lt;/p>
&lt;p>装过多系统的各位应该都跟我一样，有一个专门的引导分区来完成多系统切换或者防止Linux的主分区过大而无法启动，但是这就带来了个问题：&lt;strong>Windows无论如何都不是直接通过主板的bios打开的&lt;/strong>。具体可以在搜索里面输入 msconfig 查看：&lt;/p>
&lt;p>&lt;img src="https://i.loli.net/2020/02/07/5A9VnDE76rp8wMf.png"
loading="lazy"
alt="6897991-d9851dd2476d945f.png"
>&lt;/p>
&lt;p>要是里面是空的就说明你引导有问题，而且 &lt;strong>zz Windows会因此无法正常完成更新&lt;/strong>，所以解决办法就是：在pe里面利用工具将分区格式改成mbr。&lt;/p>
&lt;p>我使用的是微pe，原帖推荐的DiskGenius是个免费版没办法转换分区，我用的另一个分区工具成功转为mbr并先默认设置c盘微启动引导，&lt;/p>
&lt;p>然后就可以正常使用&lt;a class="link" href="https://www.microsoft.com/zh-cn/software-download/windows10" target="_blank" rel="noopener"
>微软官方win10升级工具&lt;/a>升级了。&lt;/p>
&lt;p>有人说那我的引导分区怎么办，多系统怎么办？&lt;/p>
&lt;p>&lt;strong>你不会再改回UEFI+GPT吗&lt;/strong>，然后重建你的引导，这对给Linux分过区的你来说不难吧。&lt;/p></description></item></channel></rss>